WindowManager:
    MenuWindow:
    ScoreWindow:
    CompleteWindow:

<WindowManager>:
    canvas.before:
        Rectangle:
            size: self.size
            source: 'images/bowling_wallpaper.jpg'
        Color:
            rgba: 0, 0, 0, .4
        Rectangle:
            size: self.size

<MenuWindow>:
    name: "menu_window"
    Label:
        font_size: dp(60)
        font_name: 'fonts/sackers-gothic-std-heavy.otf'
        text: "B   O   W   L   I   N   G"
        pos_hint: {"center_x": .3, "center_y": .7}
    Button:
        font_size: dp(25)
        font_name: 'fonts/sackers-gothic-std.otf'
        text: "Générer une partie"
        pos_hint: {"center_x": .3, "center_y": .5}
        size_hint: .3, .07
        background_normal: ''
        background_color: 1, .3, .4, .85
        on_release:
            app.root.current = "score_window"
            root.manager.transition.direction = "left"
    Button:
        font_size: dp(25)
        font_name: 'fonts/sackers-gothic-std.otf'
        text: "Compléter une partie"
        pos_hint: {"center_x": .3, "center_y": .4}
        size_hint: .3, .07
        background_normal: ''
        background_color: 1, .3, .4, .85
        on_release:
            app.root.current = "complete_window"
            root.manager.transition.direction = "left"

<ScoreWindow>:
    label_solution_generee: label_solution_generee
    solution_generee: solution_generee

    name: "score_window"
    Button:
        font_size: dp(25)
        font_name: 'fonts/sackers-gothic-std.otf'
        text: "Retour"
        pos_hint: {"center_x": .1, "center_y": .9}
        size_hint: .15, .07
        background_normal: ''
        background_color: 1, .3, .4, .85
        on_release:
            app.root.current = "menu_window"
            root.manager.transition.direction = "right"
    Label:
        font_size: dp(40)
        font_name: 'fonts/sackers-gothic-std-heavy.otf'
        text: "Générer une partie à partir d'un score"
        pos_hint: {"center_x": .5, "center_y": .8}
    Label:
        font_size: dp(30)
        font_name: 'fonts/sackers-gothic-std-heavy.otf'
        text: "Score : "
        pos_hint: {"center_x": .2, "center_y": .6}
    TextInput:
        id: input_score
        size_hint: None, None
        height: "40dp"
        width: "100dp"
        pos_hint: {"center_x": .3, "center_y": .6}
        multiline: False
        on_text_validate: root.parent.generate(input_score.text)
    Button:
        font_size: dp(25)
        font_name: 'fonts/sackers-gothic-std.otf'
        text: "Valider"
        pos_hint: {"center_x": .5, "center_y": .6}
        size_hint: .15, .07
        background_normal: ''
        background_color: 1, .3, .4, .85
        on_press: root.parent.generate(input_score.text)
    Label:
        id: label_solution_generee
        font_size: dp(30)
        font_name: 'fonts/sackers-gothic-std-heavy.otf'
        text: "Solution générée : "
        pos_hint: {"center_x": .2, "center_y": .5}
        opacity: 0
    Label:
        id: solution_generee
        font_size: dp(20)
        pos_hint: {"center_x": .3, "center_y": .4}
        opacity: 0

<CompleteWindow>:
    label_solution_generee: label_solution_generee
    solution_generee: solution_generee

    name: "complete_window"
    Button:
        font_size: dp(25)
        font_name: 'fonts/sackers-gothic-std.otf'
        text: "Retour"
        pos_hint: {"center_x": .1, "center_y": .9}
        size_hint: .15, .07
        background_normal: ''
        background_color: 1, .3, .4, .85
        on_release:
            app.root.current = "menu_window"
            root.manager.transition.direction = "right"
    Label:
        font_size: dp(40)
        font_name: 'fonts/sackers-gothic-std-heavy.otf'
        text: "Compléter une partie"
        pos_hint: {"center_x": .5, "center_y": .8}
    Label:
        font_size: dp(30)
        font_name: 'fonts/sackers-gothic-std-heavy.otf'
        text: "Score : "
        pos_hint: {"center_x": .2, "center_y": .6}
    TextInput:
        id: input_score
        size_hint: None, None
        height: "40dp"
        width: "100dp"
        pos_hint: {"center_x": .3, "center_y": .6}
        multiline: False
        on_text_validate: root.parent.generate(input_score.text)
    Label:
        font_size: dp(30)
        font_name: 'fonts/sackers-gothic-std-heavy.otf'
        text: "Partie incomplète : "
        pos_hint: {"center_x": .2, "center_y": .5}
    TextInput:
        id: input_partie
        size_hint: None, None
        height: "40dp"
        width: "500dp"
        pos_hint: {"center_x": .2, "center_y": .4}
        multiline: False
        on_text_validate: root.parent.generate(input_partie.text)
    Button:
        font_size: dp(25)
        font_name: 'fonts/sackers-gothic-std.otf'
        text: "Valider"
        pos_hint: {"center_x": .5, "center_y": .4}
        size_hint: .15, .07
        background_normal: ''
        background_color: 1, .3, .4, .85
        on_press: root.parent.complete(input_score.text, input_partie.text)
    Label:
        id: label_solution_generee
        font_size: dp(30)
        font_name: 'fonts/sackers-gothic-std-heavy.otf'
        text: "Solution générée : "
        pos_hint: {"center_x": .2, "center_y": .3}
        opacity: 0
    Label:
        id: solution_generee
        font_size: dp(20)
        font_name: 'fonts/sackers-gothic-std-heavy.otf'
        pos_hint: {"center_x": .3, "center_y": .2}
        opacity: 0